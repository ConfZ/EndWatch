/*
Commit Number: 842c7ba
URL: https://github.com/thorfdbg/libjpeg/issues/76
Project Name: libjpeg
termination: FALSE
*/

#include <stdlib.h>
#define true 1
#define false 0
typedef struct frame {
    struct frame* m_pCurrent;
    _Bool m_bReceivedFrameHeader;
}Frame;

Frame* StartParseFrame(Frame* f)
{
    if (f->m_bReceivedFrameHeader == false) {
        f->m_pCurrent = NULL;
        f->m_bReceivedFrameHeader = true;
    }
    return f->m_pCurrent;
}

int main(){
    _Bool m_bDecoding = __VERIFIER_nondet_bool();
    Frame* m_pFrame = NULL;
    Frame* m_pIOStream = (Frame*) malloc(sizeof(Frame));
    m_pIOStream = (Frame*) malloc(sizeof(Frame));
    m_pIOStream->m_pCurrent = (Frame*) malloc(sizeof(Frame));
    m_pIOStream->m_bReceivedFrameHeader = __VERIFIER_nondet_long();
    while(m_bDecoding) {
        if (m_pFrame == NULL) {
            m_pFrame = StartParseFrame(m_pIOStream);
            if (m_pFrame) {
                    return 1;
            }
        }
        if (m_pFrame) {
            exit(0);
        }
    }
}